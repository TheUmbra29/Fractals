# TVWFC_1_2 - Documentación General

## Descripción

Este proyecto es un juego táctico de combate por turnos desarrollado en Python utilizando Pygame. El objetivo es simular batallas entre entidades (jugadores y enemigos) en un entorno de cuadrícula, gestionando acciones como movimiento, ataque y habilidades especiales mediante menús interactivos.

## Estructura del Proyecto

```
game/
    main.py                  # Punto de entrada principal del juego
    test.py                  # Pruebas y utilidades de testeo
    characters/              # Lógica y entidades de personajes
        domain/              # Entidades y lógica de dominio de personajes
        infrastructure/      # Repositorios y persistencia de personajes
    core/                    # Núcleo de lógica de juego
        application/         # Casos de uso, DTOs y puertos
        domain/              # Entidades, eventos y servicios del juego
        presentation/        # Menús y vistas de habilidades
    infrastructure/          # Infraestructura general
        config/              # Configuración y mapeo de habilidades
        events/              # Publicación y gestión de eventos
        persistence/         # Persistencia y Unit of Work
        ui/                  # Servicios de UI, renderizado y menús
```

## Principales Módulos

- **main.py**: Inicializa el juego, el bucle principal y gestiona el flujo general.
- **core/domain/entities/**: Define las entidades del juego (BattleEntity, habilidades, objetos, etc.).
- **core/application/**: Contiene los casos de uso, DTOs y puertos para la lógica de aplicación.
- **infrastructure/ui/**: Implementa los servicios de interfaz gráfica, menús y renderizado.
- **characters/**: Lógica específica de los personajes y sus repositorios.

## Dependencias

- Python 3.9+
- Pygame 2.6.1

Instalación:
```powershell
pip install pygame
```

## Ejecución

Desde la raíz del proyecto:
```powershell
python game/main.py
```

## Flujo de Juego

1. El usuario inicia el juego y selecciona una entidad.
2. Se despliega el menú de acciones (moverse, atacar, habilidades).
3. El controlador de juego gestiona el estado y las transiciones según la acción elegida.
4. El renderizado y la UI se actualizan en tiempo real.

## Arquitectura

- **Domain Driven Design (DDD)**: Separación clara entre dominio, aplicación, infraestructura y presentación.
- **Eventos y comandos**: El juego utiliza eventos de dominio y comandos para gestionar las acciones y cambios de estado.
- **Menús flotantes**: Los menús de acción y habilidad permiten seleccionar acciones de forma intuitiva.

## Archivos Clave

- `main.py`: Bucle principal y orquestación.
- `action_menu.py`, `ability_menu.py`: Menús de acciones y habilidades.
- `rendering_service.py`, `enhanced_rendering_service.py`: Servicios de renderizado y UI.
- `battle_entity.py`, `habilidad.py`, `habilidades_predefinidas.py`: Entidades y habilidades del juego.

## Cómo Extender

- Para agregar nuevas habilidades, edita `habilidades_predefinidas.py` y `habilidad.py`.
- Para nuevos tipos de entidades, crea clases en `entities/` y actualiza los repositorios.
- Para modificar la UI, edita los servicios en `infrastructure/ui/`.

## Pruebas

Ejecuta el archivo `test.py` para pruebas unitarias y de integración:
```powershell
python game/test.py
```

## Contacto y Créditos

Desarrollado por: [Tu Nombre]
Fecha: Noviembre 2025
